/**
 ******************************************************************************
 * @file           : main.c
 * @author         : Auto-generated by STM32CubeIDE
 * @brief          : Main program body
 ******************************************************************************
 * @attention
 *
 * Copyright (c) 2024 STMicroelectronics.
 * All rights reserved.
 *
 * This software is licensed under terms that can be found in the LICENSE file
 * in the root directory of this software component.
 * If no LICENSE file comes with this software, it is provided AS-IS.
 *
 ******************************************************************************
 */

#include <stdint.h>
#include <stdio.h>

#define NVIC_BASE_ADDRESS 0XE000E000
#define USART3_IRQ 39

int main(void)
{

	//pending USART3 IRQ In NVIC
	uint32_t *pNVIC_ISPR2 = (uint32_t*)(NVIC_BASE_ADDRESS + 0x200 + 0x4);
	*pNVIC_ISPR |= (1<< (USART3_IRQ%32));

	//Enable USART3 IRQ in NVIC
	uint32_t *pNVIC_ISER2 = (uint32_t*)(NVIC_BASE_ADDRESS + 0x100 + 0x4);
	*pNVIC_ISER2  |= (1<< (USART3_IRQ%32));

    /* Loop forever */
	for(;;);
}
void USART3_IRQHandler(){
	printf("Now is in USART3 INT \n");
}
